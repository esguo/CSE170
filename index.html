<!-- Jeremy checking in -->

<html lang="en">
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110128078-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-110128078-1');
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-T3D2C5J');</script>
<!-- End Google Tag Manager -->
	
	<!-- Google Analytics Content Experiment code -->
<script>function utmx_section(){}function utmx(){}(function(){var
k='165139444-0',d=document,l=d.location,c=d.cookie;
if(l.search.indexOf('utm_expid='+k)>0)return;
function f(n){if(c){var i=c.indexOf(n+'=');if(i>-1){var j=c.
indexOf(';',i);return escape(c.substring(i+n.length+1,j<0?c.
length:j))}}}var x=f('__utmx'),xx=f('__utmxx'),h=l.hash;d.write(
'<sc'+'ript src="'+'http'+(l.protocol=='https:'?'s://ssl':
'://www')+'.google-analytics.com/ga_exp.js?'+'utmxkey='+k+
'&utmx='+(x?x:'')+'&utmxx='+(xx?xx:'')+'&utmxtime='+new Date().
valueOf()+(h?'&utmxhash='+escape(h.substr(1)):'')+
'" type="text/javascript" charset="utf-8"><\/sc'+'ript>')})();
</script><script>utmx('url','A/B');</script>
<!-- End of Google Analytics Content Experiment code -->


	<script type="text/javascript">
	localStorage.setItem("showAlternate", "true");
		 // lines below render page.html: that's all you need to know
	$.get("index2.html", function (data) {
				document.open(); document.write(data);
	document.close();
				$.cache = {};
		 }, "text");
	</script>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Babysitter</title>

	<style>
	body{
	  background: url("body-bg.jpg");
	  background-size: cover;
	}
	</style>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.12.0/moment.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
	<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
	<link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.0/themes/base/jquery-ui.css">
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.css">
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/font-awesome.css">

	<script>
		window.onload = function(){loadChildren()};
		localStorage
		function loadChildren(){
			try{
				var list = JSON.parse(localStorage.getItem("children"));
				if (list == null) {
					list = [];
					list.push("Rachel Oh");
					list.push("Hannah Oh");
					localStorage.children = JSON.stringify(list);
				}
				for (var index = 0; index < list.length; index++){
					$("#childList").append('<li id="cl' + list[index].toString().replace(/\s/g, '') + '" value="' + list[index] + '"><i class="fa-li fa fa-user" onclick="request(this.id)"></i><u id ="cl' + list[index].toString().replace(/\s/g, '') + '" class="childlist" onclick="request(this.id)">'+list[index]+'</u><button value="' + list[index] + '" onclick="delChild(this.value)" class="delBtn">Delete</button></li>');
				}

				var glist = JSON.parse(localStorage.getItem("groups"));
				if (glist == null) {
					list = []
					list.push("UCSD");
					list.push("Family");
					localStorage.groups = JSON.stringify(list);
				}
				for (var index = 0; index < glist.length; index++){
					$("#groupList").append('<li id="gl' + glist[index].toString().replace(/\s/g, '') + '"><i class="fa-li fa fa-user"></i>'+glist[index]+'<button value="' + glist[index] + '" onclick="delGroup(this.value)" class="delBtn">Delete</button></li>');
				}
			}
			catch(err){
				var glist = JSON.parse(localStorage.getItem("groups"));
				if (glist == null) {
					list = []
					list.push("UCSD");
					list.push("Family");
					localStorage.groups = JSON.stringify(list);
				}
				for (var index = 0; index < glist.length; index++){
					$("#groupList").append('<li id="gl' + glist[index].toString().replace(/\s/g, '') + '"><i class="fa-li fa fa-user"></i>'+glist[index]+'<button value="' + glist[index] + '" onclick="delGroup(this.value)" class="delBtn">Delete</button></li>');
				}
			}
		}
		function delChild(val) {
			if(confirm('Are you sure you want to delete ' + val + '?')) {
				var list = JSON.parse(localStorage.getItem("children"));
				var newList = [];
				for (var i = 0; i < list.length; i++) {
				    if (list[i] == val) {
				    	var id = "#cl" + val;
				    } else {
				    	newList.push(list[i]);
				    }
				}
				localStorage.children = JSON.stringify(newList);
				id = id.replace(/\s/g, '');
				$(id).remove();
			}
		}

		function delGroup(val) {
			if(confirm('Are you sure you want to delete ' + val + '?')) {
				var list = JSON.parse(localStorage.getItem("groups"));
				var newList = [];
				for (var i = 0; i < list.length; i++) {
				    if (list[i] == val) {
				    	var id = "#gl" + val;
				    } else {
				    	newList.push(list[i]);
				    }
				}
				localStorage.groups = JSON.stringify(newList);
				$(id).remove();
			}
		}

		function request(val) {
	        localStorage.selectedChild = val;
	        window.location = "request.html";
		}

	</script>

	<script>
	$(document).ready(function(){

		$("#childName").keypress(function(e){
			if(e.keyCode===13)
			$("#btnchild").click();
		});

		$("#groupName").keypress(function(e){
			if(e.keyCode===13)
			$("#btngroup").click();
		});

		$("#btnchild").click(function(){
			var x = [document.getElementById("childName").value];
			if(x != ""){
				$("#childList").append('<li id="cl' + x.toString().replace(/\s/g, '') + '" value="' + x + '"><i class="fa-li fa fa-user"></i><u id="cl' + x.toString().replace(/\s/g, '') + '" class="childlist" onclick="request(this.id)">'+x+'</u><button value="' + x + '" onclick="delChild(this.value)" class="delBtn">Delete</button></li>');
				var list = JSON.parse(localStorage.getItem("children"));
				if (list == null){
					list = x;
				}
				else{
					list.push(x);
				}
				localStorage.children = JSON.stringify(list);
				document.getElementById("childName").value = "";
			};
		});
		$("#btngroup").click(function(){
			var x = [document.getElementById("groupName").value];
			if (x != ""){
				$("#groupList").append('<li id="gl' + x.toString().replace(/\s/g, '') + '"><i class="fa-li fa fa-user"></i>'+x+'<button value="' + x + '" onclick="delGroup(this.value)" class="delBtn">Delete</button></li>');
				var list = JSON.parse(localStorage.getItem("groups"));
				if (list == null){
					list = x;
				}
				else{
					list.push(x);
				}
				localStorage.groups = JSON.stringify(list);
				document.getElementById("groupName").value = "";
			};
		});

	});
	</script>

</head>
<div class = "container" style="font-family:'MontserratLight';">
	<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T3D2C5J"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">Baby Bummer</a>
				</div>

				<!-- Collect the nav links, forms, and other content for toggling -->
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="active"><a href="index.html">Home <span class="sr-only">(current)</span></a></li>
						<li><a href="request.html">Request a Babysitter</a></li>
						<li><a href="myrequests.html">My Requests</a></li>
						<li><a href="login.html">Logout</a></li>
					</ul>
				</div><!-- /.navbar-collapse -->
			</div><!-- /.container-fluid -->
		</nav>

		<h2>Hanvit Oh</h2>
		<h5 id="emailheader"><i class="fa fa-envelope-o"></i>hohrocks@example.com</h5>


		<h4>Children <span class = "glyphicon glyphicon-info-sign" data-toggle="popover" title="Add the names of your children that you would like to be babysat here"></span> </h4>

		<ul id="childList" class="fa-ul">
		</ul>

		<ul id="endList" class="fa-ul">
			<li><i class="fa-li fa fa-plus" id="addgroup"></i></li><button id="btnchild">Add Child:</button>
			<input type="text" id="childName" value="">
		</ul>

		<h4>Groups <span class = "glyphicon glyphicon-info-sign" title = "Join a group to send babysitting requests to by entering the name of a group here"></span></h4>

		<ul id="groupList" class="fa-ul">
		</ul>
		<ul id="endList" class="fa-ul">
			<li><i class="fa-li fa fa-plus" id="addgroup"></i></li><button id="btngroup">Add Group:</button>
			<input type="text" id="groupName" value="">
		</ul>

	</body>
</div>


</html>
